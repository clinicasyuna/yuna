// SCRIPT PARA EXECUTAR NO CONSOLE (F12) - Copie e cole tudo
// ForÃ§a limpeza completa e recarrega

javascript:(function() {
  console.log('ðŸ§¹ [LIMPEZA] Iniciando limpeza completa...');
  
  // 1. Desregistrar service worker
  if (navigator.serviceWorker && navigator.serviceWorker.getRegistrations) {
    navigator.serviceWorker.getRegistrations().then(registrations => {
      registrations.forEach(registration => {
        console.log('ðŸ§¹ [SW] Desregistrando:', registration);
        registration.unregister().then(() => {
          console.log('âœ… [SW] Desregistrado com sucesso');
        });
      });
    }).catch(err => console.error('[SW] Erro ao desregistrar:', err));
  }
  
  // 2. Limpar todos os caches
  if (window.caches && caches.keys) {
    caches.keys().then(cacheNames => {
      console.log('ðŸ§¹ [CACHE] Caches encontrados:', cacheNames);
      return Promise.all(cacheNames.map(cacheName => {
        console.log('ðŸ§¹ [CACHE] Deletando:', cacheName);
        return caches.delete(cacheName).then(() => {
          console.log('âœ… [CACHE] Deletado:', cacheName);
        });
      }));
    }).catch(err => console.error('[CACHE] Erro:', err));
  }
  
  // 3. Limpar localStorage e sessionStorage
  console.log('ðŸ§¹ [STORAGE] Limpando storage...');
  localStorage.clear();
  sessionStorage.clear();
  console.log('âœ… [STORAGE] Storage limpo');
  
  // 4. Aguardar 2 segundos e recarregar
  console.log('â³ [RELOAD] Recarregando em 2 segundos...');
  setTimeout(() => {
    console.log('ðŸ”„ [RELOAD] Recarregando pÃ¡gina...');
    window.location.href = window.location.href;
  }, 2000);
  
  console.log('âœ… [LIMPEZA] Script executado! PÃ¡gina serÃ¡ recarregada automaticamente...');
})();
